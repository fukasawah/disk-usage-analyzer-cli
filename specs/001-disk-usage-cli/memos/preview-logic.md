# 直下TOPプレビュー ロジック（メモ）

- 親ノードの children_topK は min-heap(K) で維持（子ディレクトリと直下ファイルが対象）
- 各子ディレクトリは自身の children_topM（M個の上位候補）を保持して親に返す
- 親の最終出力時に、以下の条件のいずれかでプレビュー対象を抽出：
  - 子サイズ/親合計 ≥ S（既定 20%）
  - 子サイズ ≥ A（既定 10GiB）
  - 親における順位 ≤ R（既定 3）かつ対象がルート級
  - 偏在検知 true（親最大子/親合計 ≥ D、既定 60%）
- プレビュー対象は多すぎる場合、比率降順で E 件（既定 3）に制限
- プレビューは 1 段まで。更なる深掘りは明示的なドリルダウンで行う
